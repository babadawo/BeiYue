<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../layui/css/layui.css" media="all">
</head>
<body>

<div class="demoTable" style="margin-top: 20px">
    &nbsp; 搜索商家：
    <div class="layui-inline">
        <input class="layui-input" name="name" id="searchName" autocomplete="off">
    </div>
    搜索地址：
    <div class="layui-inline">
        <input class="layui-input" name="sex" id="searchSex" autocomplete="off">
    </div>
    时间
    <div class="layui-input-inline">

        <input type="text" id="start_time" name="start_time" autocomplete="off" placeholder="请输入开始时间" class="layui-input">

    </div> 至

    <div class="layui-input-inline">

        <input type="text" id="end_time" name="start_time" autocomplete="off" placeholder="请输入结束时间" class="layui-input">

    </div>
    <button class="layui-btn" id="searchBtn" data-type="reload">搜索</button>
    </div>
<table class="layui-table" lay-even="" lay-skin="nob" id="demo2"></table>
<table class="layui-hide" id="demo"></table>
<script type="text/html" id="updatepage">
    <form class="layui-form" lay-filter="update-form">
        <div class="layui-input-block ">
            <input type="hidden" name="id"
                   id="id"
            >
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">菜名</label>
            <div class="layui-input-block ">
                <input type="text" name="name"
                       id="name"
                       class="layui-input" style="width: 200px"
                       placeholder="请输入菜名">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">单价</label>
            <div class="layui-input-block ">

                <input type="text" name="birth" class="layui-input" style="width: 200px"
                       id="age"
                       placeholder="请输入单价">
            </div>
        </div>

        <div class="layui-upload">
            <label class="layui-form-label">照片</label>
            <div class="layui-input-block">
                <!-- 上传按钮 -->
                <button type="button" class="layui-btn" id="test1">上传图片</button>
                <!-- 预览区域 -->
                <div class="layui-upload-list">
                    <img class="layui-upload-img" id="demo1">
                    <p id="demoText"></p>
                </div>
            </div>
        </div>
        <div class="layui-form-item" style="margin-top:40px">
            <div class="layui-input-block">
                <button class="layui-btn layui-btn-submit " lay-submit=""
                        lay-filter="update-submit_btn">确认修改
                </button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>
</script>

<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script src="../../layui/layui.all.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    layui.use(['table', 'jquery', 'form','upload', 'laydate','layedit'], function(){
        var table = layui.table
            ,laydate = layui.laydate
            ,layedit = layui.layedit;

        //展示已知数据
        table.render({
            elem: '#demo2',
            height: '100'
            ,cols: [[ //标题栏
                ,{field: 'username', title: '店名', width: 120}
                ,{field: 'email', title: '地址', minWidth: 150}
                ,{field: 'city', title: '时间', width: 100}
            ]]
            ,data: [{
                "username": "四川人家"
                ,"email": "惠明路店"
                ,"city": "2019年11月"
            }]
            //,skin: 'line' //表格风格
            ,even: true
            //,page: true //是否显示分页
            //,limits: [5, 7, 10]
            //,limit: 5 //每页默认显示的数量
        });
         日期
        laydate.render({
            elem: '#date'
        });
        laydate.render({
            elem: '#date1'
        });

    });
</script>
<script>
    layui.use(['table', 'jquery', 'form','upload'], function(){
        var table = layui.table;
        var form = layui.form;
        var $ = layui.$;
        var upload = layui.upload;
        //展示已知数据
        table.render({
            elem: '#demo'
            ,totalRow: true,
            page: true
            ,cols: [[ //标题栏
                {field: 'id', title: '订单号', width: 80, sort: true}
                ,{field: 'name', title: '菜名', width: 120}
                ,{field: 'price', title: '单价', minWidth: 150,totalRowText: '总计：'}
                ,{field: 'total', title: '合计', minWidth: 160,totalRow: true}
                ,{fixed: 'right', width: 165, align:'center', toolbar: '#barDemo'}
            ]]
            ,data: [{
                "id": "10001"
                ,"name": "尖椒肉丝"
                ,"price": "30元"
                ,"total": "30元"
            },{
                "id": "10001"
                ,"name": "鱼香肉丝"
                ,"price": "28元"
                ,"total": "28元"
            },
                {
                    "id": "10001"
                    ,"name": "剁椒鱼头"
                    ,"price": "45元"
                    ,"total": "45元"
                },
                {
                    "id": "10001"
                    ,"name": "水煮肉片  "
                    ,"price": "32元"
                    ,"total": "32元"
                },
                {
                    "id": "10001"
                    ,"name": "酸菜鱼"
                    ,"price": "35元"
                    ,"total": "35元"
                },
                {
                    "id": "10001"
                    ,"name": "毛血旺"
                    ,"price": "48元"
                    ,"total": "48元"
                },
                {
                    "id": "10001"
                    ,"name": "肚丝汤"
                    ,"price": "28元"
                    ,"total": "328元"
                },]
            ,skin: 'line' //表格风格
            ,even: true
            //,limits: [5, 7, 10]
            //,limit: 5 //每页默认显示的数量
        });
        //监听行工具事件
        table.on('tool()', function(obj){ //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
            var data = obj.data //获得当前行数据
                ,layEvent = obj.event; //获得 lay-event 对应的值
            if(layEvent === 'detail'){
                var index1 = layer.open({
                    type: 1,
                    content: $('#detailForm').html(),
                    maxmin: true
                });
                layer.full(index1);
                $("#did").html(data.id);
                $("#dname").html(data.name);
                $("#dprice").html(data.price);
                $("#dtotal").html(data.total);
            } else if(layEvent === 'del'){
                layer.confirm('真的删除行么', function(index){
                    obj.del(); //删除对应行（tr）的DOM结构
                    layer.close(index);
                    //向服务端发送删除指令
                });
            } else if(layEvent === 'edit'){
                layer.open({ //打开页面
                    title: "编辑用户",
                    type: 1,
                    content: $('#updatepage').html(),
                    area: ['700px', '400px'],
                    closeBtn: 2,
                    skin: 'layui-layer-rim',
                    //加上边框
                })
            }
        });
    });
</script>
<script type="text/html" id="detailForm">
    <div class="layui-form-item">
        <label class="layui-form-label">订单号:</label>
        <label class="layui-form-label"
               id="did"
        />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">菜名</label>
        <label class="layui-form-label"
               id="dname"
        />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">单价</label>
        <label class="layui-form-label"
               id="dprice"
        />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">合计</label>
        <label class="layui-form-label"
               id="dtotal"
        />
    </div>
</script>
</body>
</html>